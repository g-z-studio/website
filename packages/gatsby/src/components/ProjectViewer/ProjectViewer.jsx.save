AOAB	OAOOBimport React, { useContext, useEffect, useState } from "react";
import PropTypes from "prop-types";
import styled from "styled-components";
import { theme } from "../../globals";
import { Link } from "gatsby";

import { Wrapper } from "../Wrapper";
import { ProjectFilterContext } from "../ProjectStateManagement";

export const ProjectViewer = ({ hashtag, src, alt, title, paragraph, url }) => {
  const [viewed, setViewed] = useState(false);
  const { state } = useContext(ProjectFilterContext);

  // useEffect(() => {
  //   for (let [key, value] of Object.entries(state)) {
  //     if (key === hashtag) {
  //       value === viewed ? setViewed(!viewed) : setViewed(viewed);
  //     }
  //   }
  // });

  return viewed ? null : (
    <Wrapper marginHeight="40">
      <Link to={url}>
        <img src={src} alt={alt} />
      </Link>
      <Link to={url}>
        <h3>{title}</h3>
      </Link>
      <p>{paragraph}</p>
    </Wrapper>
  );
};

ProjectViewer.propTypes = {
  src: PropTypes.string,
  alt: PropTypes.string,
  paragraph: PropTypes.string,
  url: PropTypes.string,
};
